(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{24140:(e,t,s)=>{Promise.resolve().then(s.bind(s,12186))},12186:(e,t,s)=>{"use strict";s.d(t,{RealTimeDashboard:()=>eH});var a=s(95155),r=s(12115),n=s(39124),i=s(25683),l=s(99827),c=s(60709),o=s(11087);class d{async sendMCPRequest(e,t){this.requestId++;try{return console.warn("MCP Client: Simulating server request for",e,t),this.generateMockResponse(e,t)}catch(t){throw console.error("MCP request failed:",t),Error("Failed to execute ".concat(e,": ").concat(t))}}generateMockResponse(e,t){switch(e){case"get_roadmap":return this.generateMockRoadmap(t.project_name);case"get_phase":return this.generateMockPhase(t.project_name);case"initialize_project":return{success:!0,message:"Project initialized",project_name:t.project_name};case"update_phase":return{success:!0,message:"Phase updated",updated_phase:{...t}};default:return{success:!0,message:"Mock response for ".concat(e)}}}generateMockRoadmap(e){return{project_name:e,roadmap:{roadmap_id:"mock-roadmap-001",project_name:e,vision:"Build an amazing PDL system with real-time capabilities",timeline_start:new Date().toISOString(),timeline_end:new Date(Date.now()+7776e6).toISOString(),roadmap_phases:[{roadmap_phase_id:"phase-001",phase_name:"Foundation & Setup",phase_description:"Establish project foundation and architecture",objective:"Create solid technical foundation",start_date:new Date().toISOString(),end_date:new Date(Date.now()+12096e5).toISOString(),status:"in_progress",completion_percentage:65,sprints:[],deliverables:["Architecture document","Initial setup","CI/CD pipeline"],success_metrics:["All tests passing","Documentation complete"]},{roadmap_phase_id:"phase-002",phase_name:"Core Development",phase_description:"Implement core PDL functionality",objective:"Build the main system components",start_date:new Date(Date.now()+12096e5).toISOString(),end_date:new Date(Date.now()+3888e6).toISOString(),status:"not_started",completion_percentage:0,sprints:[],deliverables:["Core PDL engine","WebSocket integration","UI components"],success_metrics:["Real-time updates working","All features implemented"]}],milestones:[{milestone_id:"milestone-001",name:"Foundation Complete",description:"Technical foundation established",target_date:new Date(Date.now()+12096e5).toISOString(),roadmap_phase_id:"phase-001",status:"pending"}],overall_progress:32}}}generateMockPhase(e){return{project_name:e,current_phase:{phase_number:4,phase_name:"Development & Implementation",status:"in_progress",completion_percentage:65},sprints:[]}}async initializeProject(e){return this.sendMCPRequest("initialize_project",e)}async getRoadmap(e){return this.sendMCPRequest("get_roadmap",e)}async getPhase(e){return this.sendMCPRequest("get_phase",e)}async updatePhase(e){return this.sendMCPRequest("update_phase",e)}async createRoadmap(e){return this.sendMCPRequest("create_roadmap",e)}async createSprint(e){return this.sendMCPRequest("create_sprint",e)}async updateSprintPDL(e){return this.sendMCPRequest("update_sprint_pdl",e)}async advancePDLCycle(e){return this.sendMCPRequest("advance_pdl_cycle",e)}async updateRoadmapPhase(e){return this.sendMCPRequest("update_roadmap_phase",e)}async trackProgress(e){return this.sendMCPRequest("track_progress",e)}async getSessionLogs(e){return[{timestamp:new Date().toISOString(),session_id:e||"mock-session-123",project_name:"example-project",command:"initialize_project",operation:"init",parameters:{project_name:"example-project"},result:{success:!0},duration_ms:125,user_context:{working_directory:"/tmp/project",git_branch:"main",git_commit:"abc123"},supporting_documentation:["/tmp/doc1.md"]}]}async ping(){try{return await this.sendMCPRequest("ping",{}),!0}catch(e){return!1}}getConfig(){return{...this.config}}updateConfig(e){this.config={...this.config,...e}}constructor(e={}){this.requestId=1,this.config={serverUrl:e.serverUrl||"http://localhost:3000",websocketUrl:e.websocketUrl||"ws://localhost:8080",timeout:e.timeout||1e4,...e}}}let m=null;function p(e){return m||(m=new d(e)),m}let x=(e,t)=>({projects:[],projectsList:[],selectedProject:null,selectedProjectName:null,currentRoadmap:null,sessionLogs:[],dashboardStats:{total_projects:0,active_projects:0,completed_phases:0,average_progress:0,recent_activity:[]},loading:!1,error:null,addProject:t=>{e(e=>{var s,a,r,n,i,l,c,o;e.projects.push(t),e.projectsList.push({project_name:t.project_name,description:t.description,status:(null===(r=t.roadmap)||void 0===r?void 0:null===(a=r.roadmap_phases)||void 0===a?void 0:null===(s=a[0])||void 0===s?void 0:s.status)||"not_started",progress:(null===(n=t.roadmap)||void 0===n?void 0:n.overall_progress)||0,last_activity:t.updated_at,team_size:Object.values(t.team_composition).flat().length,roadmap_phases:(null===(l=t.roadmap)||void 0===l?void 0:null===(i=l.roadmap_phases)||void 0===i?void 0:i.length)||0,active_sprints:(null===(o=t.roadmap)||void 0===o?void 0:null===(c=o.roadmap_phases)||void 0===c?void 0:c.reduce((e,t)=>e+t.sprints.length,0))||0})})},updateProject:(t,s)=>{e(e=>{let a=e.projects.findIndex(e=>e.project_name===t);if(-1!==a){var r,n,i,l,c,o,d,m,p;e.projects[a]={...e.projects[a],...s,updated_at:new Date().toISOString()},(null===(r=e.selectedProject)||void 0===r?void 0:r.project_name)===t&&(e.selectedProject=e.projects[a]);let x=e.projectsList.findIndex(e=>e.project_name===t);if(-1!==x){let t=e.projects[a];e.projectsList[x]={project_name:t.project_name,description:t.description,status:(null===(l=t.roadmap)||void 0===l?void 0:null===(i=l.roadmap_phases)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:n.status)||"not_started",progress:(null===(c=t.roadmap)||void 0===c?void 0:c.overall_progress)||0,last_activity:t.updated_at,team_size:Object.values(t.team_composition).flat().length,roadmap_phases:(null===(d=t.roadmap)||void 0===d?void 0:null===(o=d.roadmap_phases)||void 0===o?void 0:o.length)||0,active_sprints:(null===(p=t.roadmap)||void 0===p?void 0:null===(m=p.roadmap_phases)||void 0===m?void 0:m.reduce((e,t)=>e+t.sprints.length,0))||0}}}})},deleteProject:t=>{e(e=>{var s;e.projects=e.projects.filter(e=>e.project_name!==t),e.projectsList=e.projectsList.filter(e=>e.project_name!==t),(null===(s=e.selectedProject)||void 0===s?void 0:s.project_name)===t&&(e.selectedProject=null,e.selectedProjectName=null,e.currentRoadmap=null)})},setSelectedProject:t=>{e(e=>{e.selectedProject=t,e.selectedProjectName=(null==t?void 0:t.project_name)||null})},setSelectedProjectByName:e=>{let s=t().projects.find(t=>t.project_name===e);t().setSelectedProject(s||null),s&&t().fetchProjectRoadmap(e)},fetchProjects:async()=>{e(e=>{e.loading=!0,e.error=null});try{p();let s=[{project_name:"mcp-pdl-ui-enhancement",description:"Complete visualization system for MCP PDL with real-time updates",created_at:new Date(Date.now()-432e6).toISOString(),updated_at:new Date().toISOString(),team_composition:{product_manager:"Claude Assistant",engineering_manager:"Engineering Manager Agent",engineers:["Frontend Developer Agent","Backend Developer Agent"],qa_engineers:["QA Engineer Agent"],product_designer:"Product Designer Agent"},activity_log:[{timestamp:new Date().toISOString(),actor:"Claude Assistant",action:"project_updated",details:"WebSocket integration completed"}]}];e(e=>{e.projects=s,e.projectsList=s.map(e=>{var t,s,a,r,n,i,l,c;return{project_name:e.project_name,description:e.description,status:(null===(a=e.roadmap)||void 0===a?void 0:null===(s=a.roadmap_phases)||void 0===s?void 0:null===(t=s[0])||void 0===t?void 0:t.status)||"not_started",progress:(null===(r=e.roadmap)||void 0===r?void 0:r.overall_progress)||35,last_activity:e.updated_at,team_size:Object.values(e.team_composition).flat().length,roadmap_phases:(null===(i=e.roadmap)||void 0===i?void 0:null===(n=i.roadmap_phases)||void 0===n?void 0:n.length)||7,active_sprints:(null===(c=e.roadmap)||void 0===c?void 0:null===(l=c.roadmap_phases)||void 0===l?void 0:l.reduce((e,t)=>e+t.sprints.length,0))||1}}),e.selectedProject=s[0],e.selectedProjectName=s[0].project_name,e.loading=!1}),s.length>0&&await t().fetchProjectRoadmap(s[0].project_name)}catch(t){e(e=>{e.error=t instanceof Error?t.message:"Failed to fetch projects",e.loading=!1})}},fetchProjectRoadmap:async t=>{try{let s=p(),a=await s.getRoadmap({project_name:t,include_details:!0});e(e=>{e.currentRoadmap=a})}catch(t){e(e=>{e.error=t instanceof Error?t.message:"Failed to fetch project roadmap"})}},fetchSessionLogs:async t=>{try{let s=p(),a=await s.getSessionLogs(t);e(e=>{e.sessionLogs=a})}catch(t){e(e=>{e.error=t instanceof Error?t.message:"Failed to fetch session logs"})}},refreshDashboardStats:async()=>{try{let{projects:s,sessionLogs:a}=t(),r={total_projects:s.length,active_projects:s.filter(e=>e.roadmap&&e.roadmap.overall_progress>0&&e.roadmap.overall_progress<100).length,completed_phases:s.reduce((e,t)=>{var s,a;return e+((null===(a=t.roadmap)||void 0===a?void 0:null===(s=a.roadmap_phases)||void 0===s?void 0:s.filter(e=>"completed"===e.status).length)||0)},0),average_progress:s.length>0?Math.round(s.reduce((e,t)=>{var s;return e+((null===(s=t.roadmap)||void 0===s?void 0:s.overall_progress)||0)},0)/s.length):0,recent_activity:a.slice(-10).map(e=>({timestamp:e.timestamp,actor:"System",action:e.command,details:"".concat(e.operation," operation completed in ").concat(e.duration_ms,"ms"),phase_number:e.parameters.phase_number}))};e(e=>{e.dashboardStats=r})}catch(e){console.error("Failed to refresh dashboard stats:",e)}},initializeProject:async s=>{e(e=>{e.loading=!0,e.error=null});try{let a=p();if((await a.initializeProject(s)).success){let e={timestamp:new Date().toISOString(),actor:"System",action:"project_initialized",details:'Project "'.concat(s.project_name,'" was initialized successfully')},a={project_name:s.project_name,description:s.description||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),team_composition:s.team_composition||{},activity_log:[e]};t().addProject(a),t().setSelectedProject(a)}e(e=>{e.loading=!1})}catch(t){e(e=>{e.error=t instanceof Error?t.message:"Failed to initialize project",e.loading=!1})}},createRoadmap:async s=>{e(e=>{e.loading=!0,e.error=null});try{let a=p(),r=await a.createRoadmap(s);r.success&&(e(e=>{e.currentRoadmap={project_name:s.project_name,roadmap:r.roadmap}}),t().updateProject(s.project_name,{roadmap:r.roadmap})),e(e=>{e.loading=!1})}catch(t){e(e=>{e.error=t instanceof Error?t.message:"Failed to create roadmap",e.loading=!1})}},updatePhase:async(s,a)=>{try{let e=p();if((await e.updatePhase({project_name:s,...a})).success){await t().fetchProjectRoadmap(s);let e={timestamp:new Date().toISOString(),actor:"User",action:"phase_updated",details:"Phase ".concat(a.phase_number," updated to ").concat(a.completion_percentage,"% completion"),phase_number:a.phase_number},r=t().projects.find(e=>e.project_name===s);r&&t().updateProject(s,{activity_log:[...r.activity_log,e]})}}catch(t){e(e=>{e.error=t instanceof Error?t.message:"Failed to update phase"})}},updatePDL:(e,t)=>{console.log("PDL update for",e,t)},updateSprint:(e,t)=>{console.log("Sprint update for",e,t)},addLogEntry:t=>{e(e=>{e.sessionLogs.unshift(t),e.sessionLogs.length>1e3&&(e.sessionLogs=e.sessionLogs.slice(0,500))})},clearError:()=>{e(e=>{e.error=null})},clearLogs:()=>{e(e=>{e.sessionLogs=[]})}}),u=e=>({loading:!1,error:null,activeTab:"timeline",searchTerm:"",filters:{dateRange:[null,null],status:[],assignee:[],phase:[]},sidebarCollapsed:!1,notifications:[],setLoading:t=>{e(e=>{e.loading=t})},setError:t=>{e(e=>{e.error=t})},setActiveTab:t=>{e(e=>{e.activeTab=t})},setSearchTerm:t=>{e(e=>{e.searchTerm=t})},updateFilters:t=>{e(e=>{e.filters={...e.filters,...t}})},toggleSidebar:()=>{e(e=>{e.sidebarCollapsed=!e.sidebarCollapsed})},addNotification:t=>{let s=crypto.randomUUID();e(e=>{e.notifications.push({...t,id:s,timestamp:new Date})}),!1!==t.autoHide&&setTimeout(()=>{e(e=>{e.notifications=e.notifications.filter(e=>e.id!==s)})},t.duration||5e3)},removeNotification:t=>{e(e=>{e.notifications=e.notifications.filter(e=>e.id!==t)})},clearAllNotifications:()=>{e(e=>{e.notifications=[]})}}),g=(e,t)=>({socket:null,connectionStatus:"disconnected",connectionAttempts:0,maxReconnectAttempts:5,reconnectDelay:1e3,lastMessage:null,messageHistory:[],subscriptions:new Set,sessionId:null,heartbeatInterval:null,connect:function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ws://localhost:8080",a=t().socket;a&&a.close(),e(e=>{e.connectionStatus="connecting",e.connectionAttempts=0});let r=()=>{try{let a=new WebSocket(s);a.onopen=()=>{e(e=>{e.connectionStatus="connected",e.socket=a,e.connectionAttempts=0,e.sessionId="session-".concat(Date.now())});let s={type:"ping",payload:{client:"pdl-ui"},timestamp:new Date().toISOString()};a.send(JSON.stringify(s)),t().startHeartbeat()},a.onmessage=e=>{try{let s=JSON.parse(e.data);t().handleIncomingMessage(s)}catch(e){console.error("Failed to parse WebSocket message:",e)}},a.onclose=()=>{e(e=>{e.connectionStatus="disconnected",e.socket=null}),t().stopHeartbeat();let{connectionAttempts:s,maxReconnectAttempts:a,reconnectDelay:n}=t();s<a?setTimeout(()=>{e(e=>{e.connectionStatus="reconnecting",e.connectionAttempts=e.connectionAttempts+1}),r()},n*(s+1)):e(e=>{e.connectionStatus="error"})},a.onerror=t=>{console.error("WebSocket error:",t),e(e=>{e.connectionStatus="error"})}}catch(t){console.error("Failed to create WebSocket connection:",t),e(e=>{e.connectionStatus="error"})}};r()},disconnect:()=>{let s=t().socket;s&&s.readyState===WebSocket.OPEN&&s.close(),t().stopHeartbeat(),e(e=>{e.socket=null,e.connectionStatus="disconnected",e.subscriptions.clear(),e.connectionAttempts=0})},subscribe:s=>{let{socket:a,subscriptions:r,sessionId:n}=t();if(!r.has(s)){e(e=>{e.subscriptions.add(s)});let a={type:"subscribe",project_name:s,session_id:n||void 0,timestamp:new Date().toISOString()};t().sendMessage(a)}},unsubscribe:s=>{let{subscriptions:a}=t();if(a.has(s)){e(e=>{e.subscriptions.delete(s)});let a={type:"unsubscribe",project_name:s,timestamp:new Date().toISOString()};t().sendMessage(a)}},sendMessage:e=>{let s=t().socket;s&&s.readyState===WebSocket.OPEN?s.send(JSON.stringify(e)):console.warn("Cannot send message: WebSocket not connected",e)},handleIncomingMessage:s=>{e(e=>{e.lastMessage=s,e.messageHistory.push({timestamp:new Date,message:s}),e.messageHistory.length>1e3&&(e.messageHistory=e.messageHistory.slice(-500))});let a=t();switch(s.type){case"project_update":a.updateProject&&s.project_name&&s.payload&&a.updateProject(s.project_name,s.payload);break;case"phase_update":a.updatePhase&&s.project_name&&s.payload&&a.updatePhase(s.project_name,s.payload);break;case"sprint_update":a.updateSprint&&s.project_name&&s.payload&&a.updateSprint(s.project_name,s.payload);break;case"pdl_update":a.updatePDL&&s.project_name&&s.payload&&a.updatePDL(s.project_name,s.payload);break;case"log_update":a.addLogEntry&&s.payload&&a.addLogEntry(s.payload);break;case"pong":console.debug("Received pong from server");break;case"error":console.error("WebSocket server error:",s.payload)}},clearHistory:()=>{e(e=>{e.messageHistory=[],e.lastMessage=null})},isConnected:()=>"connected"===t().connectionStatus,isConnecting:()=>["connecting","reconnecting"].includes(t().connectionStatus),startHeartbeat:()=>{t().stopHeartbeat();let s=setInterval(()=>{let{socket:e}=t();if(e&&e.readyState===WebSocket.OPEN){let t={type:"ping",timestamp:new Date().toISOString()};e.send(JSON.stringify(t))}else t().stopHeartbeat()},3e4);e(e=>{e.heartbeatInterval=s})},stopHeartbeat:()=>{let s=t().heartbeatInterval;s&&(clearInterval(s),e(e=>{e.heartbeatInterval=null}))}});var h=s(38003),b=s(29159),j=s.n(b),v=s(74953),y=s(10142);let f=(e,t)=>({isExporting:!1,exportProgress:0,lastExport:null,exportProject:async(t,s)=>{e(e=>{e.isExporting=!0,e.exportProgress=0});try{let a="".concat(t.project_name,"_").concat(new Date().toISOString().split("T")[0]);switch(e(e=>{e.exportProgress=25}),s){case"json":await N(t,a);break;case"yaml":await w(t,a);break;case"csv":await _(t,a);break;case"pdf":await A(t,a)}e(e=>{e.exportProgress=100,e.lastExport={format:s,filename:"".concat(a,".").concat(s),timestamp:new Date}})}finally{setTimeout(()=>{e(e=>{e.isExporting=!1,e.exportProgress=0})},1e3)}},exportRoadmap:async(t,s)=>{e(e=>{e.isExporting=!0,e.exportProgress=0});try{let a="roadmap_".concat(t.project_name,"_").concat(new Date().toISOString().split("T")[0]);switch(e(e=>{e.exportProgress=50}),s){case"json":await N(t,a);break;case"yaml":await w(t,a);break;case"csv":await P(t,a);break;case"pdf":await k(t,a)}e(e=>{e.exportProgress=100,e.lastExport={format:s,filename:"".concat(a,".").concat(s),timestamp:new Date}})}finally{setTimeout(()=>{e(e=>{e.isExporting=!1,e.exportProgress=0})},1e3)}},exportLogs:async(t,s)=>{e(e=>{e.isExporting=!0,e.exportProgress=0});try{let a="activity_logs_".concat(new Date().toISOString().split("T")[0]);switch(e(e=>{e.exportProgress=50}),s){case"json":await N(t,a);break;case"yaml":await w(t,a);break;case"csv":await S(t,a);break;case"pdf":await C(t,a)}e(e=>{e.exportProgress=100,e.lastExport={format:s,filename:"".concat(a,".").concat(s),timestamp:new Date}})}finally{setTimeout(()=>{e(e=>{e.isExporting=!1,e.exportProgress=0})},1e3)}},exportProjectData:async function(s,a){var r;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null===(r=t().projects)||void 0===r?void 0:r.find(e=>e.project_name===s);if(!i)throw Error("Project ".concat(s," not found"));e(e=>{e.isExporting=!0,e.exportProgress=0});try{let t={project:{name:i.project_name,description:i.description,created_at:i.created_at,updated_at:i.updated_at}};!1!==n.team&&(t.team=i.team_composition,e(e=>{e.exportProgress=25})),!1!==n.roadmap&&(t.roadmap=i.roadmap,e(e=>{e.exportProgress=50})),!1!==n.logs&&(t.activity_logs=i.activity_log,e(e=>{e.exportProgress=75}));let r="".concat(s,"_complete_").concat(new Date().toISOString().split("T")[0]);switch(a){case"json":await N(t,r);break;case"yaml":await w(t,r);break;case"csv":await D(t,r);break;case"pdf":await E(t,r)}e(e=>{e.exportProgress=100,e.lastExport={format:a,filename:"".concat(r,".").concat(a),timestamp:new Date}})}finally{setTimeout(()=>{e(e=>{e.isExporting=!1,e.exportProgress=0})},1e3)}}}),N=async(e,t)=>{let s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"});(0,h.saveAs)(s,"".concat(t,".json"))},w=async(e,t)=>{let s=new Blob([v.Ay.dump(e,{indent:2})],{type:"text/yaml"});(0,h.saveAs)(s,"".concat(t,".yaml"))},_=async(e,t)=>{let s=[["Project Name",e.project_name],["Description",e.description],["Created",e.created_at],["Updated",e.updated_at],["Overall Progress","".concat(e.roadmap.overall_progress,"%")]],a=new Blob([j().unparse(s)],{type:"text/csv"});(0,h.saveAs)(a,"".concat(t,".csv"))},P=async(e,t)=>{let s=e.roadmap_phases.map(e=>({"Phase Name":e.phase_name,Status:e.status,Progress:"".concat(e.completion_percentage,"%"),"Start Date":e.start_date,"End Date":e.end_date,Objective:e.objective})),a=new Blob([j().unparse(s)],{type:"text/csv"});(0,h.saveAs)(a,"".concat(t,".csv"))},S=async(e,t)=>{let s=e.map(e=>({Timestamp:e.timestamp,Actor:e.actor,Action:e.action,Details:e.details,Phase:e.phase_number||"",Sprint:e.sprint_id||""})),a=new Blob([j().unparse(s)],{type:"text/csv"});(0,h.saveAs)(a,"".concat(t,".csv"))},A=async(e,t)=>{let s=new y.Ay;s.text("Project: ".concat(e.project_name),10,10),s.text("Description: ".concat(e.description),10,20),s.text("Progress: ".concat(e.roadmap.overall_progress,"%"),10,30),s.save("".concat(t,".pdf"))},k=async(e,t)=>{let s=new y.Ay;s.text("Roadmap: ".concat(e.project_name),10,10),s.text("Vision: ".concat(e.vision),10,20),s.save("".concat(t,".pdf"))},C=async(e,t)=>{let s=new y.Ay;s.text("Activity Logs",10,10),e.slice(0,20).forEach((e,t)=>{s.text("".concat(e.timestamp,": ").concat(e.action),10,20+10*t)}),s.save("".concat(t,".pdf"))},D=async(e,t)=>{await N(e,t)},E=async(e,t)=>{let s=new y.Ay;s.text("Project Report: ".concat(e.project.name),10,10),s.text("Description: ".concat(e.project.description),10,20),e.roadmap&&s.text("Vision: ".concat(e.roadmap.vision),10,30),s.save("".concat(t,".pdf"))},R=(0,l.v)()((0,c.lt)((0,c.eh)((0,o.D)(function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return{...x(...t),...u(...t),...g(...t),...f(...t)}})),{name:"mcp-pdl-store"})),M=()=>R(e=>e.projects),L=()=>R(e=>e.selectedProject),I=()=>R(e=>e.connectionStatus),O=e=>({addProject:e.addProject,updateProject:e.updateProject,deleteProject:e.deleteProject,setSelectedProject:e.setSelectedProject,syncWithServer:e.syncWithServer,fetchProjects:e.fetchProjects||(()=>Promise.resolve())}),T=e=>({connect:e.connect||(()=>{}),disconnect:e.disconnect||(()=>{}),sendMessage:e.sendMessage||(()=>{})}),z=()=>R(O),H=()=>R(T),F=e=>({exportProject:e.exportProject,exportRoadmap:e.exportRoadmap,exportLogs:e.exportLogs,exportProjectData:e.exportProjectData}),q=()=>R(F);var U=s(73239),B=s(66889),W=s(23950),G=s(86878),V=s(32423),J=s(92823),K=s(20772);function Y(e){var t;let{project:s,isSelected:r,onSelect:i}=e,l=s.roadmap.roadmap_phases.find(e=>"in_progress"===e.status),c=s.roadmap.roadmap_phases.filter(e=>"completed"===e.status).length,o=s.roadmap.roadmap_phases.length,d=s.roadmap.roadmap_phases.reduce((e,t)=>e+t.sprints.filter(e=>"active"===e.status).length,0);return(0,a.jsxs)(n.P.div,{onClick:i,whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:"\n        relative bg-white/90 backdrop-blur-sm rounded-xl border-2 p-6 cursor-pointer \n        transition-all duration-300 hover:shadow-xl hover:shadow-blue-500/10\n        ".concat(r?"border-blue-500 shadow-lg shadow-blue-500/20 ring-4 ring-blue-500/10":"border-gray-200 hover:border-blue-300","\n      "),children:[r&&(0,a.jsx)(n.P.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(U.A,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1 line-clamp-1",children:s.project_name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.description})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[l&&(e=>{switch(e){case"completed":return(0,a.jsx)(U.A,{className:"w-4 h-4 text-green-600"});case"in_progress":return(0,a.jsx)(B.A,{className:"w-4 h-4 text-blue-600 animate-pulse"});case"blocked":return(0,a.jsx)(W.A,{className:"w-4 h-4 text-red-600"});default:return(0,a.jsx)(B.A,{className:"w-4 h-4 text-gray-400"})}})(l.status),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:l?l.phase_name:"Planning"})]}),(0,a.jsxs)("span",{className:"text-xs font-medium text-gray-500",children:["Phase ",c+1," of ",o]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-600",children:[(0,a.jsx)("span",{children:"Overall Progress"}),(0,a.jsxs)("span",{children:[Math.round(s.roadmap.overall_progress),"%"]})]}),(0,a.jsx)("div",{className:"relative w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:(0,a.jsx)(n.P.div,{initial:{width:0},animate:{width:"".concat(s.roadmap.overall_progress,"%")},transition:{duration:1.5,ease:"easeOut"},className:"h-full bg-gradient-to-r ".concat((t=s.roadmap.overall_progress)>=80?"from-green-500 to-green-600":t>=60?"from-blue-500 to-blue-600":t>=40?"from-yellow-500 to-yellow-600":"from-gray-400 to-gray-500"," rounded-full relative"),children:(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-200 rounded-full mx-auto mb-2",children:(0,a.jsx)(G.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsx)("div",{className:"text-lg font-semibold text-blue-900",children:o}),(0,a.jsx)("div",{className:"text-xs text-blue-700",children:"Phases"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-gradient-to-br from-green-50 to-green-100 rounded-lg",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-green-200 rounded-full mx-auto mb-2",children:(0,a.jsx)(V.A,{className:"w-4 h-4 text-green-600"})}),(0,a.jsx)("div",{className:"text-lg font-semibold text-green-900",children:d}),(0,a.jsx)("div",{className:"text-xs text-green-700",children:"Active"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-purple-200 rounded-full mx-auto mb-2",children:(0,a.jsx)(J.A,{className:"w-4 h-4 text-purple-600"})}),(0,a.jsx)("div",{className:"text-lg font-semibold text-purple-900",children:Object.values(s.team_composition).flat().filter(Boolean).length}),(0,a.jsx)("div",{className:"text-xs text-purple-700",children:"Team"})]})]}),(0,a.jsx)("div",{className:"pt-3 border-t border-gray-100",children:(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Created ",(0,K.m)(new Date(s.created_at),{addSuffix:!0})]}),(0,a.jsxs)("span",{children:["Updated ",(0,K.m)(new Date(s.updated_at),{addSuffix:!0})]})]})}),(null==l?void 0:l.status)==="in_progress"&&(0,a.jsx)(n.P.div,{animate:{boxShadow:["0 0 0 0 rgba(59, 130, 246, 0)","0 0 0 8px rgba(59, 130, 246, 0.1)","0 0 0 0 rgba(59, 130, 246, 0)"]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-xl pointer-events-none"})]})]})}var Q=s(59676),X=s(51719),Z=s(46967),$=s(29191),ee=s(22725),et=s(55745),es=s(30113);function ea(e){let{project:t}=e,[s,l]=(0,r.useState)(null),[c,o]=(0,r.useState)(null),d=e=>{switch(e){case"completed":return(0,a.jsx)(U.A,{className:"w-6 h-6 text-green-600"});case"in_progress":return(0,a.jsx)(B.A,{className:"w-6 h-6 text-blue-600 animate-pulse"});case"blocked":return(0,a.jsx)(W.A,{className:"w-6 h-6 text-red-600"});default:return(0,a.jsx)(B.A,{className:"w-6 h-6 text-gray-400"})}},m=e=>{switch(e){case"completed":return"from-green-500 to-green-600";case"in_progress":return"from-blue-500 to-blue-600";case"blocked":return"from-red-500 to-red-600";default:return"from-gray-400 to-gray-500"}},p=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"in_progress":return"bg-blue-100 text-blue-800 border-blue-200";case"blocked":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},x=e=>{l(s===e?null:e)},u=e=>{o(c===e?null:e)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center mb-8 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Interactive Project Roadmap"}),(0,a.jsx)("p",{className:"text-gray-700 max-w-2xl mx-auto mb-4",children:t.roadmap.vision}),(0,a.jsxs)("div",{className:"flex justify-center items-center space-x-6 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(V.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[(0,et.GP)((0,es.H)(t.roadmap.timeline_start),"MMM d, yyyy")," - "," ",(0,et.GP)((0,es.H)(t.roadmap.timeline_end),"MMM d, yyyy")]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(Q.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[t.roadmap.overall_progress,"% Complete"]})]})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute left-8 top-0 bottom-0 w-1 bg-gradient-to-b from-blue-200 via-purple-200 to-blue-200"}),(0,a.jsx)("div",{className:"space-y-8",children:t.roadmap.roadmap_phases.map((e,t)=>{let r=s===e.roadmap_phase_id,l=c===e.roadmap_phase_id,o=e.sprints.filter(e=>"active"===e.status).length,g=e.sprints.filter(e=>"completed"===e.status).length;return(0,a.jsxs)(n.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"relative",children:[(0,a.jsx)(n.P.div,{className:"\n                    absolute left-4 w-8 h-8 rounded-full border-4 border-white shadow-lg z-10 flex items-center justify-center\n                    ".concat("completed"===e.status?"bg-green-500":"in_progress"===e.status?"bg-blue-500":"blocked"===e.status?"bg-red-500":"bg-gray-400","\n                  "),whileHover:{scale:1.1},children:d(e.status)}),(0,a.jsxs)(n.P.div,{onClick:()=>u(e.roadmap_phase_id),whileHover:{scale:1.01},className:"\n                    ml-16 p-6 bg-white rounded-xl border-2 cursor-pointer transition-all duration-300\n                    ".concat(l?"border-blue-500 shadow-lg shadow-blue-500/20 ring-4 ring-blue-500/10":"border-gray-200 hover:border-blue-300 hover:shadow-md","\n                  "),children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-gray-900",children:["Phase ",t+1,": ",e.phase_name]}),(0,a.jsx)("span",{className:"px-3 py-1 text-xs font-medium border rounded-full ".concat(p(e.status)),children:e.status.replace("_"," ")})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-3",children:e.phase_description}),(0,a.jsxs)("div",{className:"text-sm text-blue-600 font-medium",children:["\uD83C\uDFAF ",e.objective]})]}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),x(e.roadmap_phase_id)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r?(0,a.jsx)(X.A,{className:"w-5 h-5 text-gray-500"}):(0,a.jsx)(Z.A,{className:"w-5 h-5 text-gray-500"})})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-600 mb-2",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[e.completion_percentage,"%"]})]}),(0,a.jsx)("div",{className:"relative w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:(0,a.jsx)(n.P.div,{initial:{width:0},animate:{width:"".concat(e.completion_percentage,"%")},transition:{duration:1.5,ease:"easeOut",delay:.1*t},className:"h-full bg-gradient-to-r ".concat(m(e.status)," rounded-full relative"),children:(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,a.jsx)(V.A,{className:"w-5 h-5 text-blue-600 mx-auto mb-1"}),(0,a.jsx)("div",{className:"text-sm font-semibold text-blue-900",children:(0,K.m)((0,es.H)(e.start_date))}),(0,a.jsx)("div",{className:"text-xs text-blue-700",children:"Duration"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,a.jsx)(Q.A,{className:"w-5 h-5 text-green-600 mx-auto mb-1"}),(0,a.jsx)("div",{className:"text-sm font-semibold text-green-900",children:e.deliverables.length}),(0,a.jsx)("div",{className:"text-xs text-green-700",children:"Deliverables"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,a.jsx)(G.A,{className:"w-5 h-5 text-purple-600 mx-auto mb-1"}),(0,a.jsx)("div",{className:"text-sm font-semibold text-purple-900",children:e.sprints.length}),(0,a.jsx)("div",{className:"text-xs text-purple-700",children:"Sprints"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[(0,a.jsx)(J.A,{className:"w-5 h-5 text-orange-600 mx-auto mb-1"}),(0,a.jsx)("div",{className:"text-sm font-semibold text-orange-900",children:o}),(0,a.jsx)("div",{className:"text-xs text-orange-700",children:"Active"})]})]}),(0,a.jsx)(i.N,{children:r&&(0,a.jsxs)(n.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"border-t border-gray-200 pt-4 mt-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h5",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,a.jsx)(Q.A,{className:"w-4 h-4 mr-2 text-blue-600"}),"Deliverables"]}),(0,a.jsx)("ul",{className:"space-y-2",children:e.deliverables.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-center text-sm text-gray-700",children:[(0,a.jsx)(U.A,{className:"w-4 h-4 mr-2 text-green-600"}),e]},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h5",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,a.jsx)(G.A,{className:"w-4 h-4 mr-2 text-purple-600"}),"Success Metrics"]}),(0,a.jsx)("ul",{className:"space-y-2",children:e.success_metrics.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-center text-sm text-gray-700",children:[(0,a.jsx)(Q.A,{className:"w-4 h-4 mr-2 text-purple-600"}),e]},t))})]})]}),e.sprints.length>0&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("h5",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[(0,a.jsx)(V.A,{className:"w-4 h-4 mr-2 text-orange-600"}),"Sprints (",g,"/",e.sprints.length," completed)"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:e.sprints.map(e=>(0,a.jsx)(er,{sprint:e},e.sprint_id))})]})]})})]})]},e.roadmap_phase_id)})})]}),t.roadmap.milestones.length>0&&(0,a.jsxs)("div",{className:"mt-12 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-200",children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(Q.A,{className:"w-5 h-5 mr-2 text-purple-600"}),"Key Milestones"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.roadmap.milestones.map(e=>(0,a.jsxs)(n.P.div,{whileHover:{scale:1.02},className:"p-4 bg-white rounded-lg border border-purple-200 hover:shadow-md transition-all",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("h5",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("span",{className:"\n                    px-2 py-1 text-xs font-medium rounded-full\n                    ".concat("achieved"===e.status?"bg-green-100 text-green-800":"missed"===e.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800","\n                  "),children:e.status})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Target: ",(0,et.GP)((0,es.H)(e.target_date),"MMM d, yyyy")]}),e.achieved_date&&(0,a.jsxs)("div",{className:"text-xs text-green-600",children:["Achieved: ",(0,et.GP)((0,es.H)(e.achieved_date),"MMM d, yyyy")]})]},e.milestone_id))})]})]})}function er(e){let{sprint:t}=e;return(0,a.jsxs)(n.P.div,{whileHover:{scale:1.05},className:"p-3 bg-white rounded-lg border border-gray-200 hover:shadow-md transition-all",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h6",{className:"font-medium text-sm text-gray-900",children:t.sprint_name}),(()=>{switch(t.status){case"completed":return(0,a.jsx)(U.A,{className:"w-4 h-4 text-green-600"});case"active":return(0,a.jsx)($.A,{className:"w-4 h-4 text-blue-600"});case"planning":return(0,a.jsx)(ee.A,{className:"w-4 h-4 text-yellow-600"});default:return(0,a.jsx)(B.A,{className:"w-4 h-4 text-gray-400"})}})()]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium border rounded-full ".concat((()=>{switch(t.status){case"completed":return"bg-green-100 text-green-800 border-green-200";case"active":return"bg-blue-100 text-blue-800 border-blue-200";case"planning":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})()),children:t.status}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["Velocity: ",t.velocity]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,et.GP)((0,es.H)(t.start_date),"MMM d")," - ",(0,et.GP)((0,es.H)(t.end_date),"MMM d")]}),t.pdl_cycles.length>0&&(0,a.jsxs)("div",{className:"mt-2 text-xs text-blue-600",children:[t.pdl_cycles.length," PDL cycle",1!==t.pdl_cycles.length?"s":""]})]})}var en=s(77294),ei=s(67072),el=s(21773),ec=s(44857),eo=s(20853),ed=s(84267),em=s(1466),ep=s(17778),ex=s(9267),eu=s(91290);let eg=(0,s(36421).F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),eh=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:i=!1,...l}=e,c=i?eu.DX:"button";return(0,a.jsx)(c,{className:"".concat(eg({variant:r,size:n})," ").concat(s||""),ref:t,...l})});function eb(e){var t;let{activities:s}=e,[l,c]=(0,r.useState)(""),[o,d]=(0,r.useState)([]),[m,p]=(0,r.useState)([]),[x,u]=(0,r.useState)(!0),g=Array.from(new Set(s.map(e=>e.action))),h=Array.from(new Set(s.map(e=>e.actor))),b=(0,r.useMemo)(()=>s.filter(e=>{let t=""===l||e.details.toLowerCase().includes(l.toLowerCase())||e.actor.toLowerCase().includes(l.toLowerCase())||e.action.toLowerCase().includes(l.toLowerCase()),s=0===o.length||o.includes(e.action),a=0===m.length||m.includes(e.actor);return t&&s&&a}).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()),[s,l,o,m]),j=(0,r.useMemo)(()=>{let e={};return b.forEach(t=>{let s;let a=(0,es.H)(t.timestamp),r=(0,et.GP)(a,"yyyy-MM-dd");s=(0,ep.c)(a)?"Today":(0,ex.P)(a)?"Yesterday":(0,et.GP)(a,"MMMM d, yyyy"),e[r]||(e[r]={date:r,displayDate:s,activities:[]}),e[r].activities.push(t)}),Object.values(e).sort((e,t)=>t.date.localeCompare(e.date))},[b]),v=e=>({phase_updated:(0,a.jsx)(en.A,{className:"w-4 h-4 text-blue-600"}),sprint_created:(0,a.jsx)(V.A,{className:"w-4 h-4 text-green-600"}),sprint_updated:(0,a.jsx)(Q.A,{className:"w-4 h-4 text-yellow-600"}),project_initialized:(0,a.jsx)(U.A,{className:"w-4 h-4 text-purple-600"}),phase_transitioned:(0,a.jsx)(ei.A,{className:"w-4 h-4 text-indigo-600"}),roadmap_created:(0,a.jsx)(Q.A,{className:"w-4 h-4 text-pink-600"}),milestone_achieved:(0,a.jsx)(U.A,{className:"w-4 h-4 text-green-600"}),task_completed:(0,a.jsx)(U.A,{className:"w-4 h-4 text-blue-600"}),blocker_reported:(0,a.jsx)(W.A,{className:"w-4 h-4 text-red-600"})})[e]||(0,a.jsx)(B.A,{className:"w-4 h-4 text-gray-600"}),y=e=>({phase_updated:"border-blue-200 bg-blue-50",sprint_created:"border-green-200 bg-green-50",sprint_updated:"border-yellow-200 bg-yellow-50",project_initialized:"border-purple-200 bg-purple-50",phase_transitioned:"border-indigo-200 bg-indigo-50",roadmap_created:"border-pink-200 bg-pink-50",milestone_achieved:"border-green-200 bg-green-50",task_completed:"border-blue-200 bg-blue-50",blocker_reported:"border-red-200 bg-red-50"})[e]||"border-gray-200 bg-gray-50",f=e=>e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),N=e=>{d(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},w=e=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},_=()=>{c(""),d([]),p([])};return 0===s.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(n.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-gray-400 mb-4",children:(0,a.jsx)(B.A,{className:"w-16 h-16 mx-auto"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Activity Yet"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Project activity will appear here as work progresses."})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Live Activity Feed"}),(0,a.jsxs)(n.P.div,{animate:{scale:x?[1,1.2,1]:1},transition:{duration:2,repeat:x?1/0:0},className:"flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium ".concat(x?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(x?"bg-green-600":"bg-gray-400")}),(0,a.jsx)("span",{children:x?"Live":"Paused"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(eh,{onClick:()=>u(!x),variant:"outline",size:"sm",className:"text-xs",children:[(0,a.jsx)(el.A,{className:"w-4 h-4 mr-1"}),x?"Pause":"Resume"]}),(0,a.jsxs)(eh,{variant:"outline",size:"sm",className:"text-xs",children:[(0,a.jsx)(ec.A,{className:"w-4 h-4 mr-1"}),"Export"]})]})]}),(0,a.jsxs)("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg border",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(eo.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search activities...",value:l,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,a.jsx)(ed.A,{className:"w-4 h-4 mr-2"}),"Filter by Action Type"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:g.map(e=>(0,a.jsx)("button",{onClick:()=>N(e),className:"px-3 py-1 text-xs font-medium rounded-full border transition-colors ".concat(o.includes(e)?"bg-blue-100 text-blue-800 border-blue-200":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"),children:f(e)},e))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[(0,a.jsx)(em.A,{className:"w-4 h-4 mr-2"}),"Filter by Actor"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:h.map(e=>(0,a.jsx)("button",{onClick:()=>w(e),className:"px-3 py-1 text-xs font-medium rounded-full border transition-colors ".concat(m.includes(e)?"bg-purple-100 text-purple-800 border-purple-200":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"),children:e},e))})]}),(l||o.length>0||m.length>0)&&(0,a.jsx)("button",{onClick:_,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear all filters"})]}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)(i.N,{children:j.map(e=>(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[(0,a.jsx)("div",{className:"sticky top-0 bg-white/90 backdrop-blur-sm py-2 z-10",children:(0,a.jsxs)("h4",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[(0,a.jsx)(V.A,{className:"w-4 h-4 mr-2 text-gray-600"}),e.displayDate,(0,a.jsxs)("span",{className:"ml-2 px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs",children:[e.activities.length," event",1!==e.activities.length?"s":""]})]})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200"}),(0,a.jsx)("div",{className:"space-y-4",children:e.activities.map((e,t)=>(0,a.jsxs)(n.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"relative flex space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-white rounded-full border-2 border-current",children:v(e.action)})}),(0,a.jsxs)(n.P.div,{whileHover:{scale:1.01},className:"flex-grow p-4 rounded-lg border-l-4 ".concat(y(e.action)," hover:shadow-md transition-all"),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-900",children:f(e.action)}),(0,a.jsx)("span",{className:"text-xs text-gray-500 ml-4 flex-shrink-0",children:(0,K.m)((0,es.H)(e.timestamp),{addSuffix:!0})})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mb-3",children:e.details}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(em.A,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:e.actor})]}),e.phase_number&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(en.A,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:["Phase ",e.phase_number]})]}),e.sprint_id&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(Q.A,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:["Sprint ",e.sprint_id.slice(0,8),"..."]})]})]}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:(0,et.GP)((0,es.H)(e.timestamp),"h:mm a")})]})]})]},"".concat(e.timestamp,"-").concat(t)))})]})]},e.date))})}),0===b.length&&(0,a.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[(0,a.jsx)(eo.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No activities found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filter criteria."}),(0,a.jsx)(eh,{onClick:_,variant:"outline",size:"sm",children:"Clear filters"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-200",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Activity Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:b.length}),(0,a.jsx)("div",{className:"text-sm text-blue-700",children:"Total Events"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:b.filter(e=>e.action.includes("completed")).length}),(0,a.jsx)("div",{className:"text-sm text-green-700",children:"Completions"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:h.length}),(0,a.jsx)("div",{className:"text-sm text-purple-700",children:"Contributors"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:(0,ep.c)((0,es.H)((null===(t=b[0])||void 0===t?void 0:t.timestamp)||new Date().toISOString()))?b.filter(e=>(0,ep.c)((0,es.H)(e.timestamp))).length:0}),(0,a.jsx)("div",{className:"text-sm text-orange-700",children:"Today"})]})]})]})]})}eh.displayName="Button";var ej=s(14081),ev=s(40767),ey=s(38426);function ef(){var e,t;let[s,l]=(0,r.useState)(!1),[c,o]=(0,r.useState)(""),[d,m]=(0,r.useState)(!1),[p,x]=(0,r.useState)([]),u=(0,r.useRef)(null),g=(0,r.useRef)(null),{projects:h,searchTerm:b,setSearchTerm:j,filters:v,updateFilters:y}=R(e=>({projects:e.projects,searchTerm:e.searchTerm,setSearchTerm:e.setSearchTerm,filters:e.filters,updateFilters:e.updateFilters})),f=(0,r.useMemo)(()=>{let e=[];return h.forEach(t=>{var s,a;e.push({id:t.project_name,title:t.project_name,description:t.description,type:"project"}),null===(a=t.roadmap)||void 0===a||null===(s=a.roadmap_phases)||void 0===s||s.forEach(s=>{e.push({id:s.roadmap_phase_id,title:s.phase_name,description:s.phase_description,type:"phase",context:"".concat(t.project_name," > ").concat(s.phase_name)}),s.sprints.forEach(a=>{e.push({id:a.sprint_id,title:a.sprint_name,description:"Sprint ".concat(a.sprint_number," in ").concat(s.phase_name),type:"sprint",context:"".concat(t.project_name," > ").concat(s.phase_name," > ").concat(a.sprint_name)}),a.pdl_cycles.forEach(s=>{s.tasks.forEach(s=>{e.push({id:s.task_id,title:s.description,description:"Assigned to ".concat(s.assignee," (").concat(s.story_points," points)"),type:"task",context:"".concat(t.project_name," > ").concat(a.sprint_name," > ").concat(s.description)})})})})}),t.activity_log.forEach(s=>{e.push({id:"".concat(s.timestamp,"-").concat(s.action),title:s.action.replace("_"," "),description:s.details,type:"activity",context:"".concat(t.project_name," > ").concat(s.actor)})})}),e},[h]),N=(0,r.useMemo)(()=>new ey.A(f,{keys:["title","description","context"],threshold:.4,includeScore:!0}),[f]);(0,r.useEffect)(()=>{c.trim()?x(N.search(c).slice(0,10).map(e=>({...e.item,relevance:1-(e.score||0)}))):x([])},[c,N]),(0,r.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&(l(!1),m(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let w=e=>{switch(e){case"project":return(0,a.jsx)(ej.A,{className:"w-4 h-4 text-blue-600"});case"phase":return(0,a.jsx)(en.A,{className:"w-4 h-4 text-purple-600"});case"sprint":return(0,a.jsx)(Q.A,{className:"w-4 h-4 text-green-600"});case"task":return(0,a.jsx)(B.A,{className:"w-4 h-4 text-orange-600"});case"activity":return(0,a.jsx)(em.A,{className:"w-4 h-4 text-gray-600"});default:return(0,a.jsx)(eo.A,{className:"w-4 h-4 text-gray-400"})}},_=e=>{switch(e){case"project":return"bg-blue-100 text-blue-800";case"phase":return"bg-purple-100 text-purple-800";case"sprint":return"bg-green-100 text-green-800";case"task":return"bg-orange-100 text-orange-800";case"activity":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-600"}},P=e=>{console.log("Navigate to:",e),l(!1),o("")};return(0,a.jsxs)("div",{ref:u,className:"relative",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("div",{className:"relative flex items-center",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(eo.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{ref:g,type:"text",placeholder:"Search projects, phases, sprints...",value:c,onChange:e=>{o(e.target.value),l(!0)},onFocus:()=>l(!0),onKeyDown:e=>{"Escape"===e.key&&(l(!1),m(!1),e.currentTarget.blur())},className:"w-full pl-10 pr-12 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white"}),c&&(0,a.jsx)("button",{onClick:()=>{o(""),x([])},className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(ev.A,{className:"w-4 h-4 text-gray-400"})})]}),(0,a.jsx)("button",{onClick:()=>m(!d),className:"ml-2 p-2 border rounded-lg transition-colors ".concat(d?"bg-blue-50 border-blue-200 text-blue-600":"border-gray-300 text-gray-600 hover:bg-gray-50"),children:(0,a.jsx)(ed.A,{className:"w-4 h-4"})})]})}),(0,a.jsx)(i.N,{children:d&&(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 p-4 bg-white border border-gray-200 rounded-lg shadow-lg z-20",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Advanced Filters"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"text-xs font-medium text-gray-700 mb-2 flex items-center",children:[(0,a.jsx)(V.A,{className:"w-3 h-3 mr-1"}),"Date Range"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"date",value:(null===(e=v.dateRange[0])||void 0===e?void 0:e.toISOString().split("T")[0])||"",onChange:e=>y({dateRange:[e.target.value?new Date(e.target.value):null,v.dateRange[1]]}),className:"flex-1 px-2 py-1 text-xs border border-gray-200 rounded focus:ring-1 focus:ring-blue-500"}),(0,a.jsx)("input",{type:"date",value:(null===(t=v.dateRange[1])||void 0===t?void 0:t.toISOString().split("T")[0])||"",onChange:e=>y({dateRange:[v.dateRange[0],e.target.value?new Date(e.target.value):null]}),className:"flex-1 px-2 py-1 text-xs border border-gray-200 rounded focus:ring-1 focus:ring-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"text-xs font-medium text-gray-700 mb-2 flex items-center",children:[(0,a.jsx)(B.A,{className:"w-3 h-3 mr-1"}),"Status"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:["not_started","in_progress","completed","blocked"].map(e=>(0,a.jsx)("button",{onClick:()=>y({status:v.status.includes(e)?v.status.filter(t=>t!==e):[...v.status,e]}),className:"px-2 py-1 text-xs font-medium rounded border transition-colors ".concat(v.status.includes(e)?"bg-blue-100 text-blue-800 border-blue-200":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50"),children:e.replace("_"," ")},e))})]})]}),(0,a.jsx)("div",{className:"flex justify-between items-center mt-4",children:(0,a.jsx)("button",{onClick:()=>y({dateRange:[null,null],status:[],assignee:[],phase:[]}),className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Clear filters"})})]})}),(0,a.jsx)(i.N,{children:s&&(c.trim()||p.length>0)&&(0,a.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-30 max-h-96 overflow-y-auto",children:p.length>0?(0,a.jsxs)("div",{className:"py-2",children:[(0,a.jsxs)("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 border-b border-gray-100",children:[p.length," result",1!==p.length?"s":"",' for "',c,'"']}),p.map((e,t)=>(0,a.jsxs)(n.P.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*t},onClick:()=>P(e),className:"w-full px-3 py-3 text-left hover:bg-gray-50 border-b border-gray-50 last:border-b-0 flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:w(e.type)}),(0,a.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(_(e.type)),children:e.type})]}),(0,a.jsx)("p",{className:"text-xs text-gray-600 line-clamp-2 mb-1",children:e.description}),e.context&&(0,a.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.context})]}),(0,a.jsxs)("div",{className:"flex-shrink-0 text-xs text-gray-400",children:[Math.round(100*e.relevance),"%"]})]},e.id))]}):c.trim()?(0,a.jsxs)("div",{className:"px-3 py-6 text-center text-gray-500",children:[(0,a.jsx)(eo.A,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),(0,a.jsxs)("p",{className:"text-sm",children:['No results found for "',c,'"']}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Try different keywords or check your spelling"})]}):(0,a.jsx)("div",{className:"px-3 py-4 text-center text-gray-500",children:(0,a.jsx)("div",{className:"text-xs",children:"Start typing to search projects, phases, sprints, tasks, and activities"})})})})]})}var eN=s(48152),ew=s(49688),e_=s(79715),eP=s(68236),eS=s(23888),eA=s(98867);function ek(){var e,t,s,l,c;let[o,d]=(0,r.useState)(!1),[m,p]=(0,r.useState)("json"),[x,u]=(0,r.useState)({includeRoadmap:!0,includeSprints:!0,includeLogs:!0,includeTeam:!0,dateRange:[null,null]}),[g,h]=(0,r.useState)(!1),{exportProject:b,exportRoadmap:j,exportLogs:v,exportProjectData:y}=q(),f=R(e=>e.selectedProject),N=R(e=>({isExporting:e.isExporting,exportProgress:e.exportProgress,lastExport:e.lastExport})),w=[{format:"json",label:"JSON",description:"Structured data format for APIs and development",icon:(0,a.jsx)(eN.A,{className:"w-5 h-5 text-blue-600"}),extension:".json",recommended:!0},{format:"yaml",label:"YAML",description:"Human-readable data serialization format",icon:(0,a.jsx)(ej.A,{className:"w-5 h-5 text-green-600"}),extension:".yaml"},{format:"csv",label:"CSV",description:"Comma-separated values for spreadsheets",icon:(0,a.jsx)(ew.A,{className:"w-5 h-5 text-orange-600"}),extension:".csv"},{format:"pdf",label:"PDF",description:"Formatted document for sharing and printing",icon:(0,a.jsx)(e_.A,{className:"w-5 h-5 text-red-600"}),extension:".pdf"}],_=async()=>{if(f){h(!0);try{await y(f.project_name,m,{roadmap:x.includeRoadmap,sprints:x.includeSprints,logs:x.includeLogs,team:x.includeTeam}),R.getState().addNotification({type:"success",title:"Export Complete",message:"Project data exported successfully as ".concat(m.toUpperCase())}),d(!1)}catch(e){R.getState().addNotification({type:"error",title:"Export Failed",message:e instanceof Error?e.message:"Failed to export project data"})}finally{h(!1)}}};return f?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(eh,{onClick:()=>d(!o),variant:"outline",size:"sm",className:"text-xs",disabled:N.isExporting,children:[(0,a.jsx)(ec.A,{className:"w-4 h-4 mr-1"}),N.isExporting?"Exporting...":"Export"]}),(0,a.jsx)(i.N,{children:o&&(0,a.jsxs)(n.P.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-full right-0 mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[(0,a.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-gray-900 flex items-center",children:[(0,a.jsx)(ec.A,{className:"w-4 h-4 mr-2 text-blue-600"}),"Export Project Data"]}),(0,a.jsx)("button",{onClick:()=>d(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(ev.A,{className:"w-4 h-4 text-gray-400"})})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:['Export "',f.project_name,'" data']})]}),(0,a.jsxs)("div",{className:"p-4 space-y-4 max-h-96 overflow-y-auto",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-gray-700 mb-2 block",children:"Export Format"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:w.map(e=>(0,a.jsxs)(n.P.button,{onClick:()=>{p(e.format),u(t=>({...t,format:e.format}))},whileHover:{scale:1.02},whileTap:{scale:.98},className:"p-3 border-2 rounded-lg text-left transition-all ".concat(m===e.format?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e.icon,(0,a.jsx)("span",{className:"text-sm font-medium",children:e.label})]}),e.recommended&&(0,a.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-1 py-0.5 rounded",children:"Recommended"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:e.description})]},e.format))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"text-xs font-medium text-gray-700 mb-2 block flex items-center",children:[(0,a.jsx)(eP.A,{className:"w-3 h-3 mr-1"}),"Include Data"]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:x.includeRoadmap,onChange:e=>u(t=>({...t,includeRoadmap:e.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsxs)("span",{className:"text-sm text-gray-700 flex items-center",children:[(0,a.jsx)(en.A,{className:"w-4 h-4 mr-1 text-purple-600"}),"Roadmap & Phases"]})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:x.includeSprints,onChange:e=>u(t=>({...t,includeSprints:e.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsxs)("span",{className:"text-sm text-gray-700 flex items-center",children:[(0,a.jsx)(V.A,{className:"w-4 h-4 mr-1 text-green-600"}),"Sprints & Tasks"]})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:x.includeLogs,onChange:e=>u(t=>({...t,includeLogs:e.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsxs)("span",{className:"text-sm text-gray-700 flex items-center",children:[(0,a.jsx)(eS.A,{className:"w-4 h-4 mr-1 text-orange-600"}),"Activity Logs"]})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:x.includeTeam,onChange:e=>u(t=>({...t,includeTeam:e.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsxs)("span",{className:"text-sm text-gray-700 flex items-center",children:[(0,a.jsx)(J.A,{className:"w-4 h-4 mr-1 text-blue-600"}),"Team Information"]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"text-xs font-medium text-gray-700 mb-2 block flex items-center",children:[(0,a.jsx)(V.A,{className:"w-3 h-3 mr-1"}),"Date Range (Optional)"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"date",value:(null===(t=x.dateRange)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.toISOString().split("T")[0])||"",onChange:e=>u(t=>{var s,a;return{...t,dateRange:e.target.value?[new Date(e.target.value),(null===(s=t.dateRange)||void 0===s?void 0:s[1])||null]:[null,(null===(a=t.dateRange)||void 0===a?void 0:a[1])||null]}}),className:"flex-1 px-2 py-1 text-xs border border-gray-200 rounded focus:ring-1 focus:ring-blue-500",placeholder:"From"}),(0,a.jsx)("input",{type:"date",value:(null===(l=x.dateRange)||void 0===l?void 0:null===(s=l[1])||void 0===s?void 0:s.toISOString().split("T")[0])||"",onChange:e=>u(t=>{var s,a;return{...t,dateRange:e.target.value?[(null===(s=t.dateRange)||void 0===s?void 0:s[0])||null,new Date(e.target.value)]:[(null===(a=t.dateRange)||void 0===a?void 0:a[0])||null,null]}}),className:"flex-1 px-2 py-1 text-xs border border-gray-200 rounded focus:ring-1 focus:ring-blue-500",placeholder:"To"})]})]}),N.isExporting&&(0,a.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-blue-900",children:"Exporting..."}),(0,a.jsxs)("span",{className:"text-sm text-blue-700",children:[N.exportProgress,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-2",children:(0,a.jsx)(n.P.div,{initial:{width:0},animate:{width:"".concat(N.exportProgress,"%")},className:"bg-blue-600 h-2 rounded-full transition-all duration-300"})})]}),N.lastExport&&!N.isExporting&&(0,a.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center text-sm text-green-800",children:[(0,a.jsx)(eA.A,{className:"w-4 h-4 mr-2"}),(0,a.jsxs)("span",{children:["Last exported as ",N.lastExport.format.toUpperCase()," on"," ",N.lastExport.timestamp.toLocaleString()]})]})}),(0,a.jsxs)("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Preview:"}),(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:[f.project_name,null===(c=w.find(e=>e.format===m))||void 0===c?void 0:c.extension]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Estimated size: ~",Math.round(JSON.stringify(f).length/1024),"KB"]})]})]}),(0,a.jsx)("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50 rounded-b-lg",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("button",{onClick:()=>d(!1),className:"text-xs text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,a.jsxs)(eh,{onClick:_,disabled:N.isExporting,size:"sm",className:"text-xs bg-blue-600 hover:bg-blue-700",children:[(0,a.jsx)(ec.A,{className:"w-3 h-3 mr-1"}),N.isExporting?"Exporting...":"Export ".concat(m.toUpperCase())]})]})})]})})]}):(0,a.jsxs)(eh,{variant:"outline",size:"sm",disabled:!0,className:"text-xs",children:[(0,a.jsx)(ec.A,{className:"w-4 h-4 mr-1"}),"Export"]})}var eC=s(14505),eD=s(31836),eE=s(75340);function eR(e){let{status:t,className:s="",showLabel:r=!0,showDetails:i=!1}=e,l=(e=>{switch(e){case"connected":return{icon:(0,a.jsx)(U.A,{className:"w-4 h-4"}),label:"Connected",color:"text-green-600",bgColor:"bg-green-100",borderColor:"border-green-200",pulse:!0};case"connecting":return{icon:(0,a.jsx)(eC.A,{className:"w-4 h-4 animate-spin"}),label:"Connecting",color:"text-blue-600",bgColor:"bg-blue-100",borderColor:"border-blue-200",pulse:!1};case"disconnected":return{icon:(0,a.jsx)(eD.A,{className:"w-4 h-4"}),label:"Offline",color:"text-gray-600",bgColor:"bg-gray-100",borderColor:"border-gray-200",pulse:!1};case"error":return{icon:(0,a.jsx)(eE.A,{className:"w-4 h-4"}),label:"Connection Error",color:"text-red-600",bgColor:"bg-red-100",borderColor:"border-red-200",pulse:!1};default:return{icon:(0,a.jsx)(eD.A,{className:"w-4 h-4"}),label:"Unknown",color:"text-gray-600",bgColor:"bg-gray-100",borderColor:"border-gray-200",pulse:!1}}})(t);return(0,a.jsxs)(n.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center space-x-2 ".concat(s),children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"\n          flex items-center justify-center w-8 h-8 rounded-full border\n          ".concat(l.bgColor," ").concat(l.borderColor," ").concat(l.color,"\n        "),children:l.icon}),l.pulse&&"connected"===t&&(0,a.jsx)(n.P.div,{animate:{scale:[1,1.4,1],opacity:[.7,0,.7]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 rounded-full bg-green-400"})]}),r&&(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-medium ".concat(l.color),children:l.label}),i&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["connected"===t&&"Real-time updates active","connecting"===t&&"Establishing connection...","disconnected"===t&&"Using cached data","error"===t&&"Check network connection"]})]})]})}let eM=r.createContext(null);function eL(e){let{defaultValue:t,children:s,className:n}=e,[i,l]=r.useState(t);return(0,a.jsx)(eM.Provider,{value:{value:i,onValueChange:l},children:(0,a.jsx)("div",{className:n,children:s})})}function eI(e){let{children:t,className:s}=e;return(0,a.jsx)("div",{className:"inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 ".concat(s),children:t})}function eO(e){let{value:t,children:s}=e,n=r.useContext(eM);if(!n)throw Error("TabsTrigger must be used within a Tabs component");let i=n.value===t;return(0,a.jsx)("button",{onClick:()=>n.onValueChange(t),className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ".concat(i?"bg-white text-foreground shadow-sm":"text-muted-foreground hover:bg-white/50"),children:s})}function eT(e){let{value:t,children:s,className:n}=e,i=r.useContext(eM);if(!i)throw Error("TabsContent must be used within a Tabs component");return i.value!==t?null:(0,a.jsx)("div",{className:n,children:s})}var ez=s(33473);function eH(){let e=M(),t=L(),s=I(),{fetchProjects:l,syncWithServer:c}=z(),{connect:o}=H(),[d,m]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),[u,g]=(0,r.useState)(!1);(0,r.useEffect)(()=>{g(!0)},[]),(0,r.useEffect)(()=>{o(),l()},[]),(0,r.useEffect)(()=>{if("connected"===s){let e=setInterval(c,3e4);return()=>clearInterval(e)}},[s,c]);let h=async()=>{m(!0);try{await c(),R.getState().addNotification({type:"success",title:"Data Synced",message:"Project data has been synchronized successfully"})}catch(e){R.getState().addNotification({type:"error",title:"Sync Failed",message:"Failed to synchronize project data"})}finally{m(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50","data-testid":"real-time-dashboard",children:[(0,a.jsx)(n.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"MCP PDL Dashboard"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Real-time Project Development Lifecycle Management"})]}),(0,a.jsx)(eR,{status:s,"data-testid":"connection-status"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(ef,{}),(0,a.jsxs)(eh,{onClick:()=>x(!p),variant:"outline",size:"sm",className:"hidden md:flex",children:[(0,a.jsx)(ed.A,{className:"h-4 w-4 mr-2"}),"Filters"]}),(0,a.jsxs)(eh,{onClick:h,disabled:d,variant:"outline",size:"sm",className:"hidden md:flex",children:[(0,a.jsx)(el.A,{className:"h-4 w-4 mr-2 ".concat(d?"animate-spin":"")}),"Sync"]}),(0,a.jsx)(ek,{}),(0,a.jsxs)(eh,{size:"sm",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[(0,a.jsx)(ez.A,{className:"h-4 w-4 mr-2"}),"New Project"]}),(0,a.jsx)(eh,{variant:"outline",size:"sm",children:(0,a.jsx)(eP.A,{className:"h-4 w-4"})})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Projects"}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.length," project",1!==e.length?"s":"","  Last sync: ",u?new Date().toLocaleTimeString():"--:--:--"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:(0,a.jsx)(i.N,{children:e.map((e,s)=>(0,a.jsx)(n.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:.1*s},children:(0,a.jsx)(Y,{project:e,isSelected:(null==t?void 0:t.project_name)===e.project_name,onSelect:()=>R.getState().setSelectedProject(e)})},e.project_name))})}),0===e.length&&(0,a.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-4",children:(0,a.jsx)(ez.A,{className:"h-16 w-16 mx-auto"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects yet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Get started by creating your first project"}),(0,a.jsxs)(eh,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[(0,a.jsx)(ez.A,{className:"h-4 w-4 mr-2"}),"Create Project"]})]})]}),t&&(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-gray-200",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50 rounded-t-xl",children:(0,a.jsx)("div",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:t.project_name}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:t.description})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[Math.round(t.roadmap.overall_progress),"% Complete"]}),(0,a.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:(0,a.jsx)(n.P.div,{initial:{width:0},animate:{width:"".concat(t.roadmap.overall_progress,"%")},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full"})})]})]})})}),(0,a.jsxs)(eL,{defaultValue:"roadmap",className:"p-6",children:[(0,a.jsxs)(eI,{className:"grid w-full grid-cols-4 mb-6",children:[(0,a.jsx)(eO,{value:"roadmap",className:"flex items-center space-x-2",children:(0,a.jsx)("span",{children:"Interactive Roadmap"})}),(0,a.jsx)(eO,{value:"sprints",className:"flex items-center space-x-2",children:(0,a.jsx)("span",{children:"Sprint Board"})}),(0,a.jsx)(eO,{value:"activity",className:"flex items-center space-x-2",children:(0,a.jsx)("span",{children:"Live Activity"})}),(0,a.jsx)(eO,{value:"analytics",className:"flex items-center space-x-2",children:(0,a.jsx)("span",{children:"Analytics"})})]}),(0,a.jsx)(eT,{value:"roadmap",className:"space-y-6",children:(0,a.jsx)(ea,{project:t})}),(0,a.jsx)(eT,{value:"sprints",className:"space-y-6",children:(0,a.jsx)("div",{className:"text-center py-12 text-gray-500",children:"Sprint board component coming in Phase 3..."})}),(0,a.jsx)(eT,{value:"activity",className:"space-y-6",children:(0,a.jsx)(eb,{activities:t.activity_log})}),(0,a.jsx)(eT,{value:"analytics",className:"space-y-6",children:(0,a.jsx)("div",{className:"text-center py-12 text-gray-500",children:"Analytics dashboard coming in Phase 4..."})})]})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[930,946,441,517,358],()=>t(24140)),_N_E=e.O()}]);